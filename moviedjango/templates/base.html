{% load static %}

<html lang="ja">
    <head>
        
        <title>MOVIE DJANGO</title>
        <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.0/js/bootstrap.min.js"></script>
        
        

    </head>
    <body>
        <div class="header">
            <nav class="navbar">
                <li class="nav-list-item active list-inline-item">
                    <a class="navbar-brand" href="{% url 'toppage' %}">MOVIE DJANGO</a>
                </li>
                <li class="nav-list-item active list-inline-item">
                    <div class="btn-group">
                        <div class="btn-group dropleft" role="group">
                            <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split rounded-0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-person-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                    <path fill-rule="evenodd" d="M2 15v-1c0-1 1-4 6-4s6 3 6 4v1H2zm6-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                                </svg>
                                {{request.user}}
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="{% url 'favorites' %}">FAVORITES</a>
                                </div>
                            </button>
                        </div>
                    </div>
                </li>
            </nav>

            {% if user.is_authenticated %}
                <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="logoutModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="logoutModalLabel">ログアウトします</h5>
                                <button type="button" class="close" datadismiss="modal" aria-label="Close">
                                    <span aria-hidden="true" data-dismiss="modal">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                よろしいですか？
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary rounded-0" data-dismiss="modal">キャンセル</button>
                                <a href="{% url 'logout' %}"><button type="button" class="btn btn-danger rounded-0">ログアウト</button></a>
                            </div>
                        </div>
                    </div>
                </div>
            
                <ul class="nav-list">
                    <li class="nav-list-item active list-inline-item">
                        <div class="upload_button">
                            <button type="button" class="upload_button btn rounded-0" style="width:100px"><a href="{% url 'movie_form' %}">UPLOAD</a></button>
                        </div>
                    </li>
                    <li class="nav-list-item active list-inline-item">
                        <div class="favorite_button">
                            <button type="button" class="edit-button btn rounded-0" style="width:100px"><a href="{% url 'favorites' %}">FAVORITES</a></button>
                        </div>
                    </li>
                    <li class="nav-list-item active list-inline-item">
                        <div class="logout_button">
                            <button type="button" class="btn rounded-0" data-toggle="modal" data-target="#logoutModal" style="width:100px">LOGOUT</button>
                        </div>
                    </li>
                </ul> 
                
            
            {% else %}
                <ul class="nav-list">
                    <li class="nav-list-item active list-inline-item">
                        <div class="login_button">
                            <a href="{% url 'login' %}"><button type="button" class="btn rounded-0" style="width:100px">LOGIN</button></a>
                        </div>
                    </li>
                    <li class="nav-list-item active list-inline-item">
                        <div class="signup_button">
                            <a href="{% url 'signup' %}"><button type="button" class="btn rounded-0" style="width:100px">SIGNUP</button></a>
                        </div>
                    </li>
                </ul>
            {% endif %}
        </div>
        <div class="content container">
            <div class="row justify-content-md-center">
                <div class="col-md-10">
                    {% block content %}
                    {% endblock %}
                </div>
            </div>
        </div>
        <script src="{% static 'app.js' %}"></script>
        <!-- Footer -->
        <footer class="page-footer font-small special-color-dark pt-4">

            <!-- Footer Elements -->
            <div class="container"></div>
            <!-- Footer Elements -->
        
            <!-- Copyright -->
            <div class="footer-copyright text-center py-3">© 2020 Copyright: MOVIE DJANGO</div>
            <!-- Copyright -->
        
        </footer>
  <!-- Footer -->
    </body>
</html>

